extend type Customer @auth(role: CUSTOMER) {
  userId: ID!
  createdAt: DateTime!
  updatedAt: DateTime!

  orders: [Order!]!
  customerChats: [CustomerChat!]!
  businesses: [Business!]!
}

extend type CustomerChat {
  id: ID!
  createdAt: DateTime!
  query: String!
  reply: String!

  customerId: ID!
  customer: Customer!

  businessId: ID!
  business: Business!
}

extend type Query {
  customer: Customer! @auth(role: CUSTOMER)
  customerChatsForBusiness(businessId: ID!): [CustomerChat!]!
    @auth(role: BUSINESS)
}

extend type Mutation {
  registerCustomer: Customer!
  deleteCustomerAccount: Boolean! @auth(role: CUSTOMER)

  createCustomerChat(businessId: ID!, query: String!): CustomerChat!
    @auth(role: CUSTOMER)
}
